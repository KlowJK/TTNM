<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>StudentLife</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="../assets/img/students_logo.png" rel="icon">
    <link href="../assets/img/students_logo.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.gstatic.com" rel="preconnect">
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="../assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="../assets/vendor/quill/quill.snow.css" rel="stylesheet">
    <link href="../assets/vendor/quill/quill.bubble.css" rel="stylesheet">
    <link href="../assets/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="../assets/vendor/simple-datatables/style.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="../assets/css/style.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <!-- Select2 danh mục chi tiêu - truy vấn-->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

    <!-- Date range truy vấn-->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />

    <style>
        .parent {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: 1fr;
            /* hoặc auto nếu bạn muốn chiều cao theo nội dung cao nhất */
            gap: 15px;
            height: 250px;
            /* tùy theo bạn muốn card cao tối đa cỡ nào */
        }

        .parent>div {
            height: 85%;
            /* Giúp các div1 - div5 fill chiều cao của hàng */
        }

        .sales-card {
            height: 100% !important;
            /* Ghi đè inline style để fill toàn bộ */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            /* nếu bạn muốn nội dung giãn đều */
        }

        input.is-invalid {
            background-image: none !important;
        }

        select.form-select.is-invalid {
            background-image: none !important;
        }

        .money-icon {
            width: 35px;
            height: 35px;
            border: 3px solid #000;
            border-radius: 50%;
            font-size: 24px;
        }
    </style>




</head>

<body>

    <!-- ======= Header ======= -->
    <header id="header" class="header fixed-top d-flex align-items-center">

        <div class="d-flex align-items-center justify-content-between">
            <a href="../index.html" class="logo d-flex align-items-center">
                <img src="../assets/img/students_logo.png" alt="">
            </a>
        </div><!-- End Logo -->

        <nav class="header-nav ms-auto">
            <ul class="nav d-flex align-items-center nav-tabs-bordered" style="border-bottom: none !important;">
                <li class="nav-item pe-3" role="presentation">
                    <a class="nav-link " id="tab-home" href="../index.html" type="button" role="tab"
                        aria-controls="home" aria-selected="true"><strong>Trang chủ</strong></a>
                </li>

                <li class="nav-item pe-3" role="presentation">
                    <a class="nav-link active" id="tab-chi-tieu_cttd" data-bs-toggle="tab" data-bs-target="#chi-tieu"
                        type="button" role="tab" aria-controls="chi-tieu" aria-selected="false"><strong>Chi
                            tiêu</strong></a>
                </li>

                <li class="nav-item pe-3" role="presentation">
                    <a class="nav-link" id="tab-lich-trinh" href="../LichTrinh/qltg.html" type="button" role="tab"
                        aria-controls="lich-trinh" aria-selected="false"><strong>Lịch trình</strong></a>
                </li>

                <li class="nav-item pe-3" role="presentation">
                    <a class="nav-link" id="tab-ghi-chu" href="../GhiChu/qlgc.html" type="button" role="tab"
                        aria-controls="ghi-chu" aria-selected="false"><strong>Ghi chú</strong></a>
                </li>

                <li class="nav-item pe-3" role="presentation">
                    <a class="nav-link" id="tab-tai-lieu" href="../TaiLieu/qltl.html" type="button" role="tab"
                        aria-controls="tai-lieu" aria-selected="false"><strong>Tài liệu</strong></a>
                </li>

                <li class="nav-item pe-3" role="presentation">
                    <a class="nav-link" id="tab-diem-khac-biet" href="../index.html" type="button" role="tab"
                        aria-controls="diem-khac-biet" aria-selected="false"><strong>Điểm khác
                            biệt</strong></a>
                </li>

                <li class="nav-item pe-3" role="presentation">
                    <a class="nav-link" id="tab-phan-hoi" href="../index.html" type="button" role="tab"
                        aria-controls="phan-hoi" aria-selected="false"><strong>Phản hồi</strong></a>
                </li>



                <li class="nav-item dropdown pe-3">
                    <a class="nav-link nav-profile d-flex align-items-center pe-2" href="../HoSo/users-profile.html">
                        <img src="../assets/img/profile-img.jpg" alt="Profile" class="rounded-circle">
                        <span class="d-none d-md-block  ps-2">Nguyễn Văn A</span>
                    </a><!-- End Profile Iamge Icon -->


                </li><!-- End Profile Nav -->

            </ul>
        </nav><!-- End Icons Navigation -->

    </header><!-- End Header -->
    <!-- ======= Sidebar ======= -->


    <main id="main" class="main">
        <section class="section dashboard">

            <!-- Alert No Data -->
            <div id="alertNoData" class="alert alert-primary alert-dismissible fade show d-none" role="alert"
                style="width: 460px; position: fixed; top: 80px; left: 50%; transform: translateX(-50%); z-index: 9999;">
                <p class="text-dark mt-1 mb-1"> <i class="bi bi-exclamation-circle text-primary"></i> Không có dữ liệu
                    trong khoảng thời gian đã chọn.</p>
                <button type="button" class="btn-close mt-1 mb-1" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>

            <!-- Alert Success chiTieuTuDong -->
            <div id="alertSuccess_chiTieuTuDong" class="alert alert-success alert-dismissible fade show d-none"
                role="alert"
                style="width: 420px; position: fixed; top: 80px; left: 50%; transform: translateX(-50%); z-index: 9999;">
                <p class="text-dark mt-1 mb-1 me-3">
                    <i class="bi bi-check-circle text-success"></i> Thêm khoản chi tiêu định kỳ thành công.
                </p>
                <button type="button" class="btn-close mt-1 mb-1" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>

            <!-- Alert Error chiTieuTuDong -->
            <div id="alertError_chiTieuTuDong" class="alert alert-danger alert-dismissible fade show d-none"
                role="alert"
                style="width: 420px; position: fixed; top: 80px; left: 50%; transform: translateX(-50%); z-index: 9999;">
                <p class="text-dark mt-1 mb-1 me-3">
                    <i class="bi bi-x-circle text-danger"></i> Thêm khoản chi tiêu định kỳ thất bại.
                </p>
                <button type="button" class="btn-close mt-1 mb-1" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>

            <!-- Modal thêm khoản chi tiêu tự động -->
            <div class="modal fade mt-2" id="modalChiTieuTuDong" tabindex="-1" aria-labelledby="labelModalChiTieuTuDong"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content"
                        style="background-color: #F0F2F5; position: relative; width: 560px; height: 780px;">
                        <!-- Nút đóng -->
                        <button type="button" class="btn-close position-absolute top-0 end-0"
                            style="width: 40px; height: 37px;" data-bs-dismiss="modal" aria-label="Close"></button>
                        <!-- Header -->
                        <div class="p-4 border-bottom mx-4"
                            style="background-color: #FFFFFF; border-radius: 8px; margin-top: 37px; height: 64px;">
                            <h5 class="fw-bold mb-3" id="labelModalChiTieuTuDong">Thêm khoản chi tiêu tự động</h5>
                        </div>
                        <!-- Nội dung form -->

                        <form class="mt-2 needs-validation" id="formChiTieuTuDong" validate>
                            <!-- Tên khoản -->
                            <div class="mb-2 bg-white p-3 rounded mx-4" style="height: 115px;">
                                <label class="form-label" for="inputTenKhoan"><span class="text-danger">*</span> Tên
                                    khoản chi tiêu</label>
                                <input type="text" class="form-control" id="inputTenKhoan"
                                    placeholder="Nhập tên khoản chi tiêu" required>
                                <div class="invalid-feedback">Vui lòng nhập tên khoản chi tiêu tự động.</div>
                            </div>

                            <!-- Loại giao dịch + kênh nhắc -->
                            <div class="mb-2 bg-white p-3 rounded mx-4" style="height: 105px;">
                                <div class="row">
                                    <div class="col-md-5">
                                        <label class="form-label"><span class="text-danger">*</span> Loại giao
                                            dịch</label>
                                        <div class="radio-group d-flex flex-wrap align-items-center gap-2">
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="loaiGiaoDich"
                                                    id="radioThuNhap" value="thu">
                                                <label class="form-check-label" for="radioThuNhap">Thu nhập</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="loaiGiaoDich"
                                                    id="radioChiTieu" value="chi">
                                                <label class="form-check-label" for="radioChiTieu">Chi tiêu</label>
                                            </div>
                                        </div>
                                        <div class="invalid-feedback d-none" id="errorLoaiGiaoDich">Vui lòng chọn loại
                                            giao dịch.</div>
                                    </div>

                                    <div class="col-md-7">
                                        <label class="form-label ps-3">Kênh nhắc nhở</label>
                                        <div class="d-flex flex-wrap align-items-center gap-3 ps-3">
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="kenhNhacNho"
                                                    id="radioTatCa" value="tatca" checked>
                                                <label class="form-check-label" for="radioTatCa">Tất cả</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="kenhNhacNho"
                                                    id="radioEmail" value="email">
                                                <label class="form-check-label" for="radioEmail">Email</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="kenhNhacNho"
                                                    id="radioWebsite" value="website">
                                                <label class="form-check-label" for="radioWebsite">Website</label>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <!-- Danh mục + Số tiền -->
                            <div class="mb-2 bg-white p-3 rounded mx-4" style="height: 115px;">
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="form-label" for="selectDanhMuc">
                                            <span class="text-danger">*</span> Danh mục chi tiêu
                                        </label>
                                        <select class="form-select pe-5" id="danhMucSelect_chiTieuTuDong" required>
                                            <option value="" disabled selected>Nhập hoặc chọn</option>
                                            <option>Lương</option>
                                            <option>Đầu tư kinh doanh</option>
                                            <option>Ba mẹ gửi</option>
                                            <option>Học bổng</option>
                                            <option>Thu nợ</option>
                                            <option>Ăn uống</option>
                                            <option>Học tập</option>
                                            <option>Giải trí</option>
                                            <option>Di chuyển</option>
                                            <option>Nhà ở</option>
                                            <option>Mua sắm</option>
                                            <option>Sức khỏe</option>
                                        </select>
                                        <div class="invalid-feedback">Vui lòng chọn danh mục chi tiêu.</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="inputSoTien">
                                            <span class="text-danger">*</span> Số tiền
                                        </label>
                                        <div class="position-relative" style="height: 37.6px;">
                                            <input type="text" class="form-control text-end pe-5 h-100" id="inputSoTien"
                                                placeholder="0" required>
                                            <span
                                                class="position-absolute top-50 end-0 translate-middle-y me-2 text-muted">VND</span>
                                            <div class="invalid-feedback">Vui lòng nhập số tiền chi tiêu.</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Thời gian áp dụng -->
                            <div class="mb-2 bg-white p-3 rounded mx-4" style="height: 115px;">
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="form-label" for="selectNgayLapLai">
                                            <span class="text-danger">*</span> Ngày lặp lại
                                        </label>
                                        <select class="form-select" id="selectNgayLapLai" required>
                                            <option value="" disabled selected>Chọn ngày</option>
                                            <option>1</option>
                                            <option>2</option>
                                            <option>3</option>
                                            <option>4</option>
                                            <option>5</option>
                                            <option>6</option>
                                            <option>7</option>
                                            <option>8</option>
                                            <option>9</option>
                                            <option>10</option>
                                            <option>11</option>
                                            <option>12</option>
                                            <option>13</option>
                                            <option>14</option>
                                            <option>15</option>
                                            <option>16</option>
                                            <option>17</option>
                                            <option>18</option>
                                            <option>19</option>
                                            <option>20</option>
                                            <option>21</option>
                                            <option>22</option>
                                            <option>23</option>
                                            <option>24</option>
                                            <option>25</option>
                                            <option>26</option>
                                            <option>27</option>
                                            <option>28</option>
                                        </select>
                                        <div class="invalid-feedback">Vui lòng chọn ngày lặp lại.</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="selectThangBatDau">
                                            Thời gian bắt đầu
                                        </label>
                                        <select class="form-select" id="selectThangBatDau" required>
                                            <option value="" disabled selected>Chọn tháng</option>
                                            <option>Tháng 1</option>
                                            <option>Tháng 2</option>
                                            <option>Tháng 3</option>
                                            <option>Tháng 4</option>
                                            <option>Tháng 5</option>
                                            <option selected>Tháng 6</option>
                                            <option>Tháng 7</option>
                                            <option>Tháng 8</option>
                                            <option>Tháng 9</option>
                                            <option>Tháng 10</option>
                                            <option>Tháng 11</option>
                                            <option>Tháng 12</option>

                                        </select>
                                    </div>
                                    <div class="invalid-feedback" id="errorThoiGian">Vui lòng chọn thời gian áp
                                        dụng.</div>
                                </div>
                            </div>

                            <!-- Ghi chú -->
                            <div class="mb-2 bg-white p-3 rounded mx-4" style="height: 115px;">
                                <label class="form-label" for="inputGhiChu">Ghi chú</label>
                                <input type="text" class="form-control" id="inputGhiChu" placeholder="Nhập ghi chú">
                                <div class="invalid-feedback">Ghi chú vượt quá 200 ký tự. Vui lòng nhập lại.</div>
                            </div>
                        </form>


                        <!-- Footer -->
                        <div class="d-flex justify-content-end gap-3 mt-2 me-4">
                            <button type="submit" id="btnLuuChiTieuTuDong" form="btnLuuChiTieuTuDong"
                                class="btn btn-primary" style="border-radius: 2px; width: 85.9px;">Lưu</button>
                            <button type="button" class="btn btn-light" style="border-radius: 2px;"
                                data-bs-dismiss="modal">Quay lại</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- End Modal Ghi nhận chi tiêu -->

            <div class="row">
                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h5 class="mb-0"><strong>Các khoản chi tiêu tự động</strong></h5>
                            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalChiTieuTuDong">
                                Thêm khoản mới
                            </button>
                        </div>
                        <div class="card-body mt-3">
                            <div class="row g-4">
                                <!-- Box item -->
                                <div class="col-md-4">
                                    <div class="border rounded p-3 h-100 bg-light">
                                        <div class="text-center mb-2">
                                            <div
                                                class="money-icon d-flex justify-content-center align-items-center mx-auto mb-2">
                                                <span class="fw-bold">$</span>
                                            </div>

                                            <div class="fw-bold">Lương làm thêm</div>
                                        </div>
                                        <div class="text-muted small text-center">
                                            Thu nhập từ việc làm thêm tại quán cà phê
                                        </div>
                                    </div>
                                </div>
                                <!-- Repeat for other items -->
                                <div class="col-md-4">
                                    <div class="border rounded p-3 h-100 bg-light">
                                        <div class="text-center mb-2">
                                            <div
                                                class="money-icon d-flex justify-content-center align-items-center mx-auto mb-2">
                                                <span class="fw-bold">$</span>
                                            </div>
                                            <div class="fw-bold">Tiền điện nước</div>
                                        </div>
                                        <div class="text-muted small text-center">
                                            Chi phí sinh hoạt hàng tháng
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="border rounded p-3 h-100 bg-light">
                                        <div class="text-center mb-2">
                                            <div
                                                class="money-icon d-flex justify-content-center align-items-center mx-auto mb-2">
                                                <span class="fw-bold">$</span>
                                            </div>

                                            <div class="fw-bold">Ăn uống</div>
                                        </div>
                                        <div class="text-muted small text-center">
                                            Ăn trưa tại căn tin hoặc ngoài quán
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="border rounded p-3 h-100 bg-light">
                                        <div class="text-center mb-2">
                                            <div
                                                class="money-icon d-flex justify-content-center align-items-center mx-auto mb-2">
                                                <span class="fw-bold">$</span>
                                            </div>

                                            <div class="fw-bold">Mua sách giáo trình</div>
                                        </div>
                                        <div class="text-muted small text-center">
                                            Mua tài liệu học tập hoặc đăng ký khóa học online
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="border rounded p-3 h-100 bg-light">
                                        <div class="text-center mb-2">
                                            <div
                                                class="money-icon d-flex justify-content-center align-items-center mx-auto mb-2">
                                                <span class="fw-bold">$</span>
                                            </div>

                                            <div class="fw-bold">Netflix</div>
                                        </div>
                                        <div class="text-muted small text-center">
                                            Phí đăng ký các nền tảng giải trí (Netflix, Spotify)
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="border rounded p-3 h-100 bg-light">
                                        <div class="text-center mb-2">
                                            <div
                                                class="money-icon d-flex justify-content-center align-items-center mx-auto mb-2">
                                                <span class="fw-bold">$</span>
                                            </div>

                                            <div class="fw-bold">Xăng xe</div>
                                        </div>
                                        <div class="text-muted small text-center">
                                            Chi phí di chuyển hàng tháng
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="border rounded p-3 h-100 bg-light">
                                        <div class="text-center mb-2">
                                            <div
                                                class="money-icon d-flex justify-content-center align-items-center mx-auto mb-2">
                                                <span class="fw-bold">$</span>
                                            </div>

                                            <div class="fw-bold">Tiền sinh hoạt khác</div>
                                        </div>
                                        <div class="text-muted small text-center">
                                            Các khoản chi không cố định: mua vật dụng, y tế...
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="border rounded p-3 h-100 bg-light">
                                        <div class="text-center mb-2">
                                            <div
                                                class="money-icon d-flex justify-content-center align-items-center mx-auto mb-2">
                                                <span class="fw-bold">$</span>
                                            </div>

                                            <div class="fw-bold">Tiền gia đình gửi</div>
                                        </div>
                                        <div class="text-muted small text-center">
                                            Hỗ trợ tài chính từ người thân
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="d-flex justify-content-end gap-3 mt-4 me-3">
                                <a href="qlct.html" type="button" class="btn btn-light" style="border-radius: 2px;">Quay
                                    lại</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tổng quan tài chính -->

            </div><!-- End Reports -->



            </div>
            </div><!-- End Left side columns -->



            </div>
        </section>

    </main><!-- End #main -->

    <!-- ======= Footer ======= -->
    <footer id="footer" class="footer" style="background-color: #F9FAFE;">
        <div class="parent mx-5" style="height: 200px ;">
            <div class="div1">
                <div class="social-links mt-5 fs-3 "> <!-- fs-3: tăng kích thước icon -->
                    <a href="#" class="twitter m-3 text-dark"><i class="bi bi-twitter"></i></a>
                    <a href="#" class="facebook m-3 text-dark"><i class="bi bi-facebook"></i></a>
                    <a href="#" class="instagram m-3 text-dark"><i class="bi bi-instagram"></i></a>
                    <a href="#" class="linkedin m-3 text-dark"><i class="bi bi-linkedin"></i></a>
                </div>
            </div>

            <div class="div2">
                <h5 class="mb-4"><strong>Về StudentsLife</strong></h5>
                <ul class="list-unstyled">
                    <li class="text-black m-1">Giới Thiệu</li>
                    <li class="text-black m-1">Sứ Mệnh</li>
                    <li class="text-black m-1">Đội Ngũ</li>
                    <li class="text-black m-1">Liên Hệ</li>
                    <li class="text-black m-1">Câu hỏi thường gặp(FAQ)</li>
                </ul>
            </div>
            <div class="div3">
                <h5 class="mb-4"><strong>Khám phá</strong></h5>
                <ul class="list-unstyled">
                    <li class="text-black m-1">Góc học tập</li>
                    <li class="text-black m-1">Kỹ năng mềm</li>
                    <li class="text-black m-1">Chia sẻ kinh nghiệm</li>
                    <li class="text-black m-1">Học bổng & Cơ hội</li>
                    <li class="text-black m-1">Hướng nghiệp</li>
                </ul>
            </div>
            <div class="div4">
                <h5 class="mb-4"><strong>Tiện ích sinh viên</strong></h5>
                <ul class="list-unstyled">
                    <li class="text-black m-1">Tài liệu học tập</li>
                    <li class="text-black m-1">Công cụ học tập</li>
                    <li class="text-black m-1">Gợi ý khóa học</li>
                    <li class="text-black m-1">Cộng đồng sinh viên</li>
                    <li class="text-black m-1">Góp ý & báo lỗi</li>
                </ul>
            </div>
            <div class="div5">
                <h5 class="mb-4"><strong>Điểm nổi bật</strong></h5>
                <ul class="list-unstyled">
                    <li class="text-black m-1">Theo dõi tiến độ học tập</li>
                    <li class="text-black m-1">Gợi ý chi tiêu thông minh</li>
                    <li class="text-black m-1">Thống kê & báo cáo toàn diện</li>
                    <li class="text-black m-1">Tích hợp lịch học/lịch cá nhân</li>
                    <li class="text-black m-1">Quyền riêng tư nâng cao</li>
                </ul>
            </div>
        </div>
    </footer><!-- End Footer -->

    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
            class="bi bi-arrow-up-short"></i></a>

    <!-- Vendor JS Files -->
    <script src="../assets/vendor/apexcharts/apexcharts.min.js"></script>
    <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/vendor/chart.js/chart.umd.js"></script>
    <script src="../assets/vendor/echarts/echarts.min.js"></script>
    <script src="../assets/vendor/quill/quill.js"></script>
    <script src="../assets/vendor/simple-datatables/simple-datatables.js"></script>
    <script src="../assets/vendor/tinymce/tinymce.min.js"></script>
    <script src="../assets/vendor/php-email-form/validate.js"></script>

    <!-- Template Main JS File -->
    <script src="../assets/js/main.js"></script>

    <!-- jQuery Select2 danh mục chi tiêu - truy vấn -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <!-- Moment.js -->
    <script src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>

    <!-- Daterangepicker truy vấn -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>

    <!-- Daterangepicker truy vấn -->
    <script>
        $(function () {
            $('input[name="daterange"]').daterangepicker({
                opens: 'left',
                locale: {
                    format: 'DD-MM-YYYY',
                    applyLabel: "Chọn",
                    cancelLabel: "Hủy",
                    fromLabel: "Từ",
                    toLabel: "Đến",
                    customRangeLabel: "Tùy chọn",
                    daysOfWeek: ["CN", "T2", "T3", "T4", "T5", "T6", "T7"],
                    monthNames: ["Tháng 1", "Tháng 2", "Tháng 3", "Tháng 4", "Tháng 5", "Tháng 6", "Tháng 7", "Tháng 8", "Tháng 9", "Tháng 10", "Tháng 11", "Tháng 12"],
                }
            });
        });
    </script>

    <!-- Select2 Truy vấn -->
    <script>
        $(document).ready(function () {
            $('#danhMucSelect_chiTieuTuDong').select2({
                placeholder: "Nhập hoặc chọn",
                width: '100%',

                dropdownParent: $('#modalChiTieuTuDong'),
                language: {
                    noResults: function () {
                        return "Không có danh mục";
                    }
                }
            });
        });
    </script>

    <script>
        $(document).ready(function () {
            $('#selectNgayLapLai').select2({
                placeholder: "Chọn ngày",
                width: '100%',

                dropdownParent: $('#modalChiTieuTuDong'),
                language: {
                    noResults: function () {
                        return "Vui lòng chọn ngày (1-28)";
                    }
                }
            });
        });
    </script>

    <!-- Style Ghi nhận chi tiêu -->
    <style>
        /* Khung tổng thể của Select2 */
        .select2-container--default .select2-selection--single {
            height: 37.6px;
            padding: 6px 12px;
            display: flex;
            align-items: center;
            /* căn giữa chiều dọc */
            border: 1px solid #ced4da;
            border-radius: 5px;
            box-sizing: border-box;
        }

        /* Phần hiển thị nội dung đã chọn */
        .select2-container--default .select2-selection--single .select2-selection__rendered {
            padding-left: 0;
            /* bỏ padding dư */
            padding-right: 0;
            line-height: 1.5;
            /* dòng hợp lý */
            font-size: 14px;
        }

        /* Icon dropdown ▼ */
        .select2-container--default .select2-selection--single .select2-selection__arrow {
            height: 100%;
            top: 0;
            right: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>


    <!-- số tiền chi tiêu-->
    <script>
        const input = document.getElementById('soTienInput');

        input.addEventListener('input', function (e) {
            let value = e.target.value.replace(/[^0-9]/g, '');
            if (value) {
                value = value.replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
            }
            e.target.value = value;
        });
    </script>

    <!-- validate thêm khoản chi tiêu định kì mới -->
    <script>
        document.querySelector('#modalChiTieuTuDong .btn-primary').addEventListener('click', function () {
            const modalEl = document.getElementById('modalChiTieuTuDong');
            let isValid = true;

            // ===== TÊN KHOẢN =====
            const tenKhoanInput = modalEl.querySelector('#inputTenKhoan');
            if (!tenKhoanInput.value.trim()) {
                tenKhoanInput.classList.add('is-invalid');
                isValid = false;
            } else {
                tenKhoanInput.classList.remove('is-invalid');
            }

            // ===== LOẠI GIAO DỊCH =====
            const loaiGiaoDichRadios = modalEl.querySelectorAll('input[name="loaiGiaoDich"]');
            const loaiGiaoDichChecked = modalEl.querySelector('input[name="loaiGiaoDich"]:checked');
            const errorLoaiGiaoDich = modalEl.querySelector('#errorLoaiGiaoDich');

            if (!loaiGiaoDichChecked) {
                loaiGiaoDichRadios.forEach(radio => radio.classList.add('is-invalid'));
                if (errorLoaiGiaoDich) errorLoaiGiaoDich.classList.remove('d-none');
                if (errorLoaiGiaoDich) errorLoaiGiaoDich.classList.add('d-block');
                isValid = false;
            } else {
                loaiGiaoDichRadios.forEach(radio => radio.classList.remove('is-invalid'));
                if (errorLoaiGiaoDich) errorLoaiGiaoDich.classList.add('d-none');
            }


            // ===== DANH MỤC =====
            const danhMucSelect = modalEl.querySelector('#danhMucSelect_chiTieuTuDong');
            if (!danhMucSelect.value) {
                danhMucSelect.classList.add('is-invalid');
                $(danhMucSelect).next('.select2-container').find('.select2-selection').addClass('border-danger');
                isValid = false;
            } else {
                danhMucSelect.classList.remove('is-invalid');
                $(danhMucSelect).next('.select2-container').find('.select2-selection').removeClass('border-danger');
            }

            // ===== SỐ TIỀN =====
            const soTienInput = modalEl.querySelector('#inputSoTien');
            const soTienRaw = soTienInput.value.replace(/\s/g, '');
            if (!soTienRaw || isNaN(soTienRaw)) {
                soTienInput.classList.add('is-invalid');
                isValid = false;
            } else {
                soTienInput.classList.remove('is-invalid');
            }

            // ===== NGÀY LẶP LẠI =====
            const ngayLapLai = modalEl.querySelector('#selectNgayLapLai');
            if (!ngayLapLai.value) {
                ngayLapLai.classList.add('is-invalid');
                $(ngayLapLai).next('.select2-container').find('.select2-selection').addClass('border-danger');
                isValid = false;
            } else {
                ngayLapLai.classList.remove('is-invalid');
                $(ngayLapLai).next('.select2-container').find('.select2-selection').removeClass('border-danger');
            }

            // ===== THÁNG BẮT ĐẦU =====
            const thangBatDau = modalEl.querySelector('#selectThangBatDau');
            if (!thangBatDau.value) {
                thangBatDau.classList.add('is-invalid');
                isValid = false;
            } else {
                thangBatDau.classList.remove('is-invalid');
            }

            // ===== GHI CHÚ (nếu có, giới hạn 200 ký tự) =====
            const ghiChuInput = modalEl.querySelector('#inputGhiChu');
            if (ghiChuInput && ghiChuInput.value.length > 200) {
                ghiChuInput.classList.add('is-invalid');
                isValid = false;
            } else {
                ghiChuInput.classList.remove('is-invalid');
            }

            // ===== NẾU HỢP LỆ: Ẩn modal, reset form, show alert =====
            if (isValid) {
                const modal = bootstrap.Modal.getInstance(modalEl);
                modal.hide();

                modalEl.addEventListener('hidden.bs.modal', function handler() {
                    modalEl.querySelectorAll('input, select').forEach(el => {
                        if (el.type !== 'radio') el.value = '';
                        el.classList.remove('is-invalid');
                    });
                    $(danhMucSelect).val(null).trigger('change');
                    $(danhMucSelect).next('.select2-container').find('.select2-selection').removeClass('border-danger');

                    modalEl.removeEventListener('hidden.bs.modal', handler);
                });

                const success = Math.random() < 0.9;
                showAlertChiTieuTuDong(success ? 'success' : 'error');
            }

            function showAlertChiTieuTuDong(type) {
                const alertBox = document.getElementById(
                    type === 'success' ? 'alertSuccess_chiTieuTuDong' : 'alertError_chiTieuTuDong'
                );
                alertBox.classList.remove('d-none');
                setTimeout(() => {
                    const bsAlert = bootstrap.Alert.getOrCreateInstance(alertBox);
                    bsAlert.close();
                }, 5000);
            }
        });
    </script>





</body>

</html>